(function(j){var k={layout:'simple',multipart:false,method:'POST',action:''};safe_del=function(a,b){if(typeof(a[b])!='undefined')delete a[b]};j.fn.formbuilder=function(a){var b=j.extend({},k,a);var c=j('<form></form>');var m=b.multipart;var d={};safe_del(b,'multipart');if(m)b.enctype='multipart/form-data';d.target=c;d.layout=b.layout;safe_del(b,'layout');if(d.layout=='table'){c.append('<table><tbody></tbody></table>');b.target=j('tbody',c)}c.attr(b).appendTo(this);return new FB(c,d)};FB=function(a,b){this.form=a;this.o=b};j.extend(FB.prototype,{Element:function(a,b,c){var t=j('<$0>$1</$0>'.template([a,b]));if(c)t.attr(c);return t},add:function(){for(var i=0;i<arguments.length;i++){this.o.target.append(arguments[i])}return this},Line:function(){var a=j('<p></p>');var b=a;if(this.o.layout=='table'){a=j('<tr><td></td></tr>');b=j('td',a)}for(var i=0;i<arguments.length;i++){b.append(arguments[i])}return a},Label:function(a,b){return this.Element('label',a,b)},Input:function(a,b){b.type=a;return this.Element('input','',b)},Text:function(a){return this.Input('text',a)},Password:function(a){return this.Input('password',a)},Button:function(a){return this.Input('button',a)},Submit:function(a){return this.Input('submit',a)},Reset:function(a){return this.Input('reset',a)},File:function(a){return this.Input('file',a)},Checkbox:function(a){return this.Input('checkbox',a)},Radio:function(a){return this.Input('radio',a)},Textarea:function(a){var b=a.value||'';safe_del(a,'value');return this.Element('textarea',b,a)},Select:function(a){var b=j('<select></select>');var s=b.get(0);var c=a.value||[];safe_del(a,'value');var d=a.options||[];safe_del(a,'options');b.attr(a);for(var i=0;i<d.length;i++){var e=document.createElement('option');var f=d[i];var g=f.value;if(typeof(f.text)!='undefined')g=f.text;e.text=g;e.value=f.value;var h=s.options.length;s.options[h]=e;if(c.index(f.value)>-1)s.options[h].selected=true}return b}})})(jQuery);